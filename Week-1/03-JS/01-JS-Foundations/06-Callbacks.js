// Callback Functions :
// Can you call one function inside another function?? Yes!

// Function that performs a simple math operation

function add(a, b, callback) {
  const sum = a + b;
  // Invoke the callback function and pass the result as an argument
  callback(sum);
}

// Callback function to display the result

function displayResult(result) {
  console.log(`The result is: ${result}`);
}

// Calling the 'add' function and passing a callback function.

add(5, 3, displayResult); // Output: The result is: 8

// This demonstrates a basic usage of a callback function where the displayResult
// function acts as a callback to handle the result generated by the add function.


// Let me give another example for callback function i.e. setTimeout.
// Example : 

function time() {
  console.log('hi')
}

setTimeout(time, 5000)

// - Here setTimeout is function which is calling another function i.e Time . 
// setTimeout takes two aruguments : 1. Function , 2.Time in milli seconds.
// After certain milli seconds the function will be called.


// Assignments :
// 1. Create a counter in js (counts down from 30 to 0)

// Method 1:

let count = 30
console.log('counter:' + count)

function counter() {
  if (count > 0) {
    count--
    console.log('counter:' + count)
  }
  else {
    clearInterval(counter)
  }

}

setInterval(counter, 1000)


// Method 2:

function counter(seconds) {
  function count() {
    if (seconds > 0) {
      console.log(seconds);
      seconds--;
      setTimeout(count, 1000)
    }
    else {
      console.log('completed')
    }
  }

  count()
}
counter(30);


// 2. Calculate a time it takes  between a setTimeout call and the inner function actually running

const starttime = performance.now();


setTimeout(() => {
  const endtime = performance.now()

  const res = endtime - starttime
  console.log('The consume time is' + ' ' + res)

  console.log('this is callback function')

}, 1000)


// 3. Create a terminal clock

function clock() {
  let time = new Date();

  const currenthour = time.getHours();
  const currentmin = time.getMinutes();
  const currentsec = time.getSeconds();

  let terminalclock = `${currenthour}:${currentmin}:${currentsec}`
  console.clear()

  console.log(terminalclock)

}

setInterval(clock, 1000)



//Functions can take other functions as input

function calculateArithmetic(args, funTocalculate) {
    const ans = funTocalculate(...args);
    return ans;
  }
  
  function sum(...values) {
    return values.reduce((acc, curr) => acc + curr, 0);
  }
  
  function subtract(...values) {
    return values.reduce((acc, curr) => acc - curr);
  }
  
  function multiply(...values) {
    return values.reduce((acc, curr) => acc * curr, 1);
  }
  
  function division(...values) {
    return values.reduce((acc, curr) => acc / curr);
  }
  
  function power(...values) {
    return values.reduce((acc, curr) => acc ** curr);
  }
  
  const addValue = calculateArithmetic([1, 3, 10, 32, 45, 80], sum);
  const subValue = calculateArithmetic([10, 50, 60, 51, 80, 100], subtract);
  const multiplyValue = calculateArithmetic([10, 10, 20, 15, 90, 225], multiply);
  const divisionValue = calculateArithmetic([10, 80, 30, 51, 60], division);
  const powerValue = calculateArithmetic([9, 2, 3], power);
  console.table([addValue, subValue, multiplyValue, divisionValue, powerValue]);